<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyze and Create Elegant Directed Acyclic Graphs â€¢ ggdag</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Analyze and Create Elegant Directed Acyclic Graphs">
<meta property="og:description" content="Tidy, analyze, and plot directed acyclic graphs (DAGs). 'ggdag' is 
    built on top of 'dagitty', an R package that uses the dagitty web tool for 
    creating and analyzing DAGs. 'ggdag' makes it easy to tidy and plot  
    'dagitty' objects using 'ggplot2' and 'ggraph', as well as common analytic 
    and graphical functions, such as determining adjustment sets and node 
    relationships. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">ggdag</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/intro-to-ggdag.html">An Introduction to ggdag</a>
    </li>
    <li>
      <a href="articles/intro-to-dags.html">An Introduction to DAGs</a>
    </li>
    <li>
      <a href="articles/bias-structures.html">Common Structures of Bias</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<section id="ggdag-an-r-package-for-visualizing-and-analyzing-directed-acyclic-graphs" class="level1"><div class="page-header"><h1>ggdag: An R Package for visualizing and analyzing directed acyclic graphs</h1></div>
<p>Tidy, analyze, and plot directed acyclic graphs (DAGs). <code>ggdag</code> uses the powerful <code>dagitty</code> package to create and analyze structural causal models and plot them using <code>ggplot2</code> and <code>ggraph</code> in a consistent and easy manner.</p>
<section id="installation" class="level2"><h2>Installation</h2>
<p>You can install ggdag from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"malcolmbarrett/ggdag"</span>)</a></code></pre></div>
</section><section id="example" class="level2"><h2>Example</h2>
<p><code>ggdag</code> makes it easy to use <code>dagitty</code> in the context of the tidyverse. You can directly tidy <code>dagitty</code> objects or use convenience functions to create DAGs using a more R-like syntax:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(ggdag)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#  example from the dagitty package</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">dag &lt;-<span class="st"> </span>dagitty<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/dagitty/topics/dagitty">dagitty</a></span>( <span class="st">"dag {</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="st">    y &lt;- x &lt;- z1 &lt;- v -&gt; z2 -&gt; y</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="st">               z1 &lt;- w1 &lt;-&gt; w2 -&gt; z2</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="st">               x &lt;- w1 -&gt; y</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="st">               x &lt;- w2 -&gt; y</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="st">               x [exposure]</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="st">               y [outcome]</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="st">               }"</span>)</a>
<a class="sourceLine" id="cb2-12" data-line-number="12"></a>
<a class="sourceLine" id="cb2-13" data-line-number="13">tidy_dag &lt;-<span class="st"> </span><span class="kw"><a href="reference/tidy_dagitty.html">tidy_dagitty</a></span>(dag)</a>
<a class="sourceLine" id="cb2-14" data-line-number="14"></a>
<a class="sourceLine" id="cb2-15" data-line-number="15">tidy_dag </a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt; # A tibble: 13 x 8</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt;    name      x     y direction to     xend  yend circular</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;   </span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt;  1 v     11.8   8.03 -&gt;        z1    10.4   7.77 FALSE   </span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt;  2 v     11.8   8.03 -&gt;        z2    12.1   6.66 FALSE   </span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt;  3 w1    10.2   6.85 -&gt;        x      9.95  6.28 FALSE   </span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co">#&gt;  4 w1    10.2   6.85 -&gt;        y     11.1   6.39 FALSE   </span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="co">#&gt;  5 w1    10.2   6.85 -&gt;        z1    10.4   7.77 FALSE   </span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">#&gt;  6 w1    10.2   6.85 &lt;-&gt;       w2    10.9   5.75 FALSE   </span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt;  7 w2    10.9   5.75 -&gt;        x      9.95  6.28 FALSE   </span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt;  8 w2    10.9   5.75 -&gt;        y     11.1   6.39 FALSE   </span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co">#&gt;  9 w2    10.9   5.75 -&gt;        z2    12.1   6.66 FALSE   </span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co">#&gt; 10 x      9.95  6.28 -&gt;        y     11.1   6.39 FALSE   </span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="co">#&gt; 11 z1    10.4   7.77 -&gt;        x      9.95  6.28 FALSE   </span></a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="co">#&gt; 12 z2    12.1   6.66 -&gt;        y     11.1   6.39 FALSE   </span></a>
<a class="sourceLine" id="cb2-31" data-line-number="31"><span class="co">#&gt; 13 y     11.1   6.39 &lt;NA&gt;      &lt;NA&gt;  NA    NA    FALSE</span></a>
<a class="sourceLine" id="cb2-32" data-line-number="32"></a>
<a class="sourceLine" id="cb2-33" data-line-number="33"><span class="co">#  using more R-like syntax to create the same DAG</span></a>
<a class="sourceLine" id="cb2-34" data-line-number="34">tidy_ggdag &lt;-<span class="st"> </span><span class="kw"><a href="reference/dagify.html">dagify</a></span>(y <span class="op">~</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>z2 <span class="op">+</span><span class="st"> </span>w2 <span class="op">+</span><span class="st"> </span>w1,</a>
<a class="sourceLine" id="cb2-35" data-line-number="35">             x <span class="op">~</span><span class="st"> </span>z1 <span class="op">+</span><span class="st"> </span>w1,</a>
<a class="sourceLine" id="cb2-36" data-line-number="36">             z1 <span class="op">~</span><span class="st"> </span>w1 <span class="op">+</span><span class="st"> </span>v,</a>
<a class="sourceLine" id="cb2-37" data-line-number="37">             z2 <span class="op">~</span><span class="st"> </span>w2 <span class="op">+</span><span class="st"> </span>v,</a>
<a class="sourceLine" id="cb2-38" data-line-number="38">             w1 <span class="op">~</span><span class="er">~</span><span class="st"> </span>w2, <span class="co"># bidirected path</span></a>
<a class="sourceLine" id="cb2-39" data-line-number="39">             <span class="dt">exposure =</span> <span class="st">"x"</span>,</a>
<a class="sourceLine" id="cb2-40" data-line-number="40">             <span class="dt">outcome =</span> <span class="st">"y"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="reference/tidy_dagitty.html">tidy_dagitty</a></span>()</a>
<a class="sourceLine" id="cb2-41" data-line-number="41"></a>
<a class="sourceLine" id="cb2-42" data-line-number="42">tidy_ggdag</a>
<a class="sourceLine" id="cb2-43" data-line-number="43"><span class="co">#&gt; # A tibble: 12 x 8</span></a>
<a class="sourceLine" id="cb2-44" data-line-number="44"><span class="co">#&gt;    name      x     y direction to     xend  yend circular</span></a>
<a class="sourceLine" id="cb2-45" data-line-number="45"><span class="co">#&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;   </span></a>
<a class="sourceLine" id="cb2-46" data-line-number="46"><span class="co">#&gt;  1 v      7.25  17.2 -&gt;        z1     7.59  18.5 FALSE   </span></a>
<a class="sourceLine" id="cb2-47" data-line-number="47"><span class="co">#&gt;  2 v      7.25  17.2 -&gt;        z2     8.57  16.8 FALSE   </span></a>
<a class="sourceLine" id="cb2-48" data-line-number="48"><span class="co">#&gt;  3 w1     9.03  18.7 -&gt;        x      8.35  19.3 FALSE   </span></a>
<a class="sourceLine" id="cb2-49" data-line-number="49"><span class="co">#&gt;  4 w1     9.03  18.7 -&gt;        y      8.93  18.0 FALSE   </span></a>
<a class="sourceLine" id="cb2-50" data-line-number="50"><span class="co">#&gt;  5 w1     9.03  18.7 -&gt;        z1     7.59  18.5 FALSE   </span></a>
<a class="sourceLine" id="cb2-51" data-line-number="51"><span class="co">#&gt;  6 w1     9.03  18.7 &lt;-&gt;       w2     9.68  17.5 FALSE   </span></a>
<a class="sourceLine" id="cb2-52" data-line-number="52"><span class="co">#&gt;  7 w2     9.68  17.5 -&gt;        y      8.93  18.0 FALSE   </span></a>
<a class="sourceLine" id="cb2-53" data-line-number="53"><span class="co">#&gt;  8 w2     9.68  17.5 -&gt;        z2     8.57  16.8 FALSE   </span></a>
<a class="sourceLine" id="cb2-54" data-line-number="54"><span class="co">#&gt;  9 x      8.35  19.3 -&gt;        y      8.93  18.0 FALSE   </span></a>
<a class="sourceLine" id="cb2-55" data-line-number="55"><span class="co">#&gt; 10 z1     7.59  18.5 -&gt;        x      8.35  19.3 FALSE   </span></a>
<a class="sourceLine" id="cb2-56" data-line-number="56"><span class="co">#&gt; 11 z2     8.57  16.8 -&gt;        y      8.93  18.0 FALSE   </span></a>
<a class="sourceLine" id="cb2-57" data-line-number="57"><span class="co">#&gt; 12 y      8.93  18.0 &lt;NA&gt;      &lt;NA&gt;  NA     NA   FALSE</span></a></code></pre></div>
<p><code>ggdag</code> also provides functionality for analyzing DAGs and plotting them in <code>ggplot2</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="reference/ggdag.html">ggdag</a></span>(tidy_ggdag)</a></code></pre></div>
<p><img src="reference/figures/README-ggdag-1.png" width="100%"></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="reference/adjustment_sets.html">ggdag_adjustment_set</a></span>(tidy_ggdag)</a></code></pre></div>
<p><img src="reference/figures/README-ggdag-2.png" width="100%"></p>
<p>As well as geoms and other functions for plotting them directly in <code>ggplot2</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="reference/dagify.html">dagify</a></span>(m <span class="op">~</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>y) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="reference/tidy_dagitty.html">tidy_dagitty</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="reference/d_relationship.html">node_dconnected</a></span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="dt">controlling_for =</span> <span class="st">"m"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">xend =</span> xend, <span class="dt">yend =</span> yend, <span class="dt">shape =</span> adjusted, <span class="dt">col =</span> d_relationship)) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="reference/geom_dag_edges.html">geom_dag_edges</a></span>(<span class="kw">aes</span>(<span class="dt">end_cap =</span> ggraph<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggraph/topics/geometry">circle</a></span>(<span class="dv">10</span>, <span class="st">"mm"</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="reference/geom_dag_collider_edges.html">geom_dag_collider_edges</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="st">    </span><span class="kw"><a href="reference/node_point.html">geom_dag_node</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="st">    </span><span class="kw"><a href="reference/geom_dag_text.html">geom_dag_text</a></span>(<span class="dt">col =</span> <span class="st">"white"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="st">    </span><span class="kw"><a href="reference/theme_dag_grey.html">theme_dag</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="st">    </span><span class="kw"><a href="reference/scale_dag.html">scale_dag</a></span>(<span class="dt">expand_y =</span> <span class="kw"><a href="reference/expand_scale.html">expand_scale</a></span>(<span class="kw">c</span>(<span class="fl">0.2</span>, <span class="fl">0.2</span>)))</a></code></pre></div>
<p><img src="reference/figures/README-ggdag_geoms-1.png" width="100%"></p>
<p>And common structures of bias:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="reference/equivalent.html">ggdag_equivalent_dags</a></span>(<span class="kw"><a href="reference/quick_plot.html">confounder_triangle</a></span>())</a></code></pre></div>
<p><img src="reference/figures/README-ggdag_common-1.png" width="100%"></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="reference/quick_plot.html">ggdag_butterfly_bias</a></span>(<span class="dt">edge_type =</span> <span class="st">"diagonal"</span>)</a></code></pre></div>
<p><img src="reference/figures/README-ggdag_common-2.png" width="100%"></p>
</section></section>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://ggdag.netlify.com%20https://github.com/malcolmbarrett/ggdag">https://â€‹ggdag.netlify.com https://â€‹github.com/â€‹malcolmbarrett/â€‹ggdag</a>
</li>
<li>Report a bug at <br><a href="https://github.com/malcolmbarrett/ggdag/issues">https://â€‹github.com/â€‹malcolmbarrett/â€‹ggdag/â€‹issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Malcolm Barrett <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/malcolmbarrett/ggdag"><img src="https://travis-ci.org/malcolmbarrett/ggdag.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/malcolmbarrett/ggdag"><img src="https://ci.appveyor.com/api/projects/status/kd3ed7rj6p2vd36t?svg=true" alt="AppVeyor Build status"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Malcolm Barrett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
